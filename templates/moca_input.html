<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MOCA Questionnaire</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Montreal Cognitive Assessment (MOCA)</h1>
    <form action="{{ url_for('questionnaire_route', questionnaire='moca') }}" method="post">
        <!-- Visuospatial/Executive Section -->
        <h2>Visuospatial/Executive</h2>
        <p>The psychometrician should present the patient with tasks to assess visuospatial and executive functions.</p>

        <!-- Question 1 -->
        <div class="question">
            <p>1. Draw a line to connect alternating letters and numbers (e.g., 1-A, 2-B, etc.)</p>
            <img src="{{ url_for('static', filename='images/visuospatial.jpeg') }}" alt="Design to copy">
            <label>
                <input type="radio" name="TRAILS" value="1"
                    {% if previous_answers.get('TRAILS') == '1' or previous_answers.get('TRAILS') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="TRAILS" value="0"
                    {% if previous_answers.get('TRAILS') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 2 -->
        <div class="question">
            <p>2. Copy the cube shown below</p>
            <img src="{{ url_for('static', filename='images/cube.jpeg') }}" alt="Cube to copy">
            <label>
                <input type="radio" name="CUBE" value="1"
                    {% if previous_answers.get('CUBE') == '1' or previous_answers.get('CUBE') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="CUBE" value="0"
                    {% if previous_answers.get('CUBE') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 3 -->
        <div class="question">
            <p>3. Draw a clock contour</p>
            <label>
                <input type="radio" name="CLOCKCON" value="1"
                    {% if previous_answers.get('CLOCKCON') == '1' or previous_answers.get('CLOCKCON') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="CLOCKCON" value="0"
                    {% if previous_answers.get('CLOCKCON') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 4 -->
        <div class="question">
            <p>4. Place the numbers on the clock</p>
            <label>
                <input type="radio" name="CLOCKNO" value="1"
                    {% if previous_answers.get('CLOCKNO') == '1' or previous_answers.get('CLOCKNO') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="CLOCKNO" value="0"
                    {% if previous_answers.get('CLOCKNO') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 5 -->
        <div class="question">
            <p>5. Set the clock hands to 10 past 11</p>
            <label>
                <input type="radio" name="CLOCKHAN" value="1"
                    {% if previous_answers.get('CLOCKHAN') == '1' or previous_answers.get('CLOCKHAN') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="CLOCKHAN" value="0"
                    {% if previous_answers.get('CLOCKHAN') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Naming Section -->
        <h2>Naming</h2>
        <p>The psychometrician should show the patient pictures of three animals and ask them to name each one.</p>

        <!-- Question 6 -->
        <div class="question">
            <p>6. Name the animal shown below (Lion)</p>
            <img src="{{ url_for('static', filename='images/lion.jpeg') }}" alt="Lion">
            <label>
                <input type="radio" name="LION" value="1"
                    {% if previous_answers.get('LION') == '1' or previous_answers.get('LION') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="LION" value="0"
                    {% if previous_answers.get('LION') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 7 -->
        <div class="question">
            <p>7. Name the animal shown below (Rhinoceros)</p>
            <img src="{{ url_for('static', filename='images/rhino.jpeg') }}" alt="Rhinoceros">
            <label>
                <input type="radio" name="RHINO" value="1"
                    {% if previous_answers.get('RHINO') == '1' or previous_answers.get('RHINO') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="RHINO" value="0"
                    {% if previous_answers.get('RHINO') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 8 -->
        <div class="question">
            <p>8. Name the animal shown below (Camel)</p>
            <img src="{{ url_for('static', filename='images/camel.jpeg') }}" alt="Camel">
            <label>
                <input type="radio" name="CAMEL" value="1"
                    {% if previous_answers.get('CAMEL') == '1' or previous_answers.get('CAMEL') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="CAMEL" value="0"
                    {% if previous_answers.get('CAMEL') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Memory Section -->
        <h2>Memory</h2>
        <p>The psychometrician should ask the patient to recall the following words immediately: 'face, velvet, church, daisy, red'. Assess whether the patient can recall each word correctly.</p>

        <!-- Questions 9-13 -->
        {% for num, word in [(9, 'face'), (10, 'velvet'), (11, 'church'), (12, 'daisy'), (13, 'red')] %}
        <div class="question">
            <p>{{ num }}. Immediate recall of '{{ word }}'</p>
            <label>
                <input type="radio" name="IMMT1W{{ num - 8 }}" value="1"
                    {% if previous_answers.get('IMMT1W' + (num - 8)|string) == '1' or previous_answers.get('IMMT1W' + (num - 8)|string) is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="IMMT1W{{ num - 8 }}" value="0"
                    {% if previous_answers.get('IMMT1W' + (num - 8)|string) == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>
        {% endfor %}

        <!-- Attention Section -->
        <h2>Attention</h2>
        <p>The psychometrician should assess the patient's attention by having them repeat sequences of numbers.</p>

        <!-- Question 14 -->
        <div class="question">
            <p>14. Repeat numbers forward (2 1 8 5 4)</p>
            <label>
                <input type="radio" name="DIGFOR" value="1"
                    {% if previous_answers.get('DIGFOR') == '1' or previous_answers.get('DIGFOR') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="DIGFOR" value="0"
                    {% if previous_answers.get('DIGFOR') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 15 -->
        <div class="question">
            <p>15. Repeat numbers backward (7 4 2)</p>
            <label>
                <input type="radio" name="DIGBACK" value="1"
                    {% if previous_answers.get('DIGBACK') == '1' or previous_answers.get('DIGBACK') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="DIGBACK" value="0"
                    {% if previous_answers.get('DIGBACK') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 16 -->
        <p>The next task is to assess the patient's attention by reading a list of letters: FBACMNAAJKLBAFAKDEAAAJAMOFAAB. The patient must tap with their hand each time they hear the letter 'A'.</p>
        <div class="question">
    <p>16. Tap for each letter 'A' in the sequence</p>
    <input type="number" name="LETTERS" value="{{ previous_answers.get('LETTERS', '') }}" min="0" required>
</div>

        <!-- Serial Subtraction -->
        <p>The psychometrician should assess the patient's attention by asking them to perform a serial subtraction of 7, starting at 100. The patient should continue subtracting until reaching 65.</p>
        {% for num, ans in [(17, '93'), (18, '86'), (19, '79'), (20, '72'), (21, '65')] %}
        <div class="question">
            <p>{{ num }}. Subtract 7 from previous (Answer: {{ ans }})</p>
            <label>
                <input type="radio" name="SERIAL{{ num - 16 }}" value="1"
                    {% if previous_answers.get('SERIAL' + (num - 16)|string) == '1' or previous_answers.get('SERIAL' + (num - 16)|string) is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="SERIAL{{ num - 16 }}" value="0"
                    {% if previous_answers.get('SERIAL' + (num - 16)|string) == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>
        {% endfor %}

        <!-- Language Section -->
        <h2>Language</h2>
        <p>The psychometrician should ask the patient to repeat the following sentences:</p>

        <!-- Question 22 -->
        <div class="question">
            <p>22. Repeat: "I only know that John is the one to help today."</p>
            <label>
                <input type="radio" name="REPEAT1" value="1"
                    {% if previous_answers.get('REPEAT1') == '1' or previous_answers.get('REPEAT1') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="REPEAT1" value="0"
                    {% if previous_answers.get('REPEAT1') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 23 -->
        <div class="question">
            <p>23. Repeat: "The cat always hid under the couch when dogs were in the room."</p>
            <label>
                <input type="radio" name="REPEAT2" value="1"
                    {% if previous_answers.get('REPEAT2') == '1' or previous_answers.get('REPEAT2') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="REPEAT2" value="0"
                    {% if previous_answers.get('REPEAT2') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 24 -->
        <div class="question">
    <p>24. Name as many words as possible that begin with the letter 'F' in one minute</p>
    <input type="number" name="FFLUENCY" value="{{ previous_answers.get('FFLUENCY', '') }}" min="0" required>
        </div>

        <!-- Abstraction Section -->
        <h2>Abstraction</h2>
        <p>The psychometrician should ask the patient to find the similarity between two words.</p>

        <!-- Question 25 -->
        <div class="question">
            <p>25. Train - Bicycle</p>
            <label>
                <input type="radio" name="ABSTRAN" value="1"
                    {% if previous_answers.get('ABSTRAN') == '1' or previous_answers.get('ABSTRAN') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="ABSTRAN" value="0"
                    {% if previous_answers.get('ABSTRAN') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Question 26 -->
        <div class="question">
            <p>26. Watch - Ruler</p>
            <label>
                <input type="radio" name="ABSMEAS" value="1"
                    {% if previous_answers.get('ABSMEAS') == '1' or previous_answers.get('ABSMEAS') is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="ABSMEAS" value="0"
                    {% if previous_answers.get('ABSMEAS') == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>

        <!-- Delayed Recall Section -->
        <h2>Delayed Recall</h2>
<p>The psychometrician should ask the patient to recall the words 'face, velvet, church, daisy, red' after a delay. Assess whether the patient can recall each word correctly using cues.</p>

<!-- Questions 27-31 -->
{% for num, word in [(27, 'face'), (28, 'velvet'), (29, 'church'), (30, 'daisy'), (31, 'red')] %}
<div class="question">
    <p>{{ num }}. Delayed recall of '{{ word }}' (0 = Incorrect, 1 = Correct with two cues, 2 = Correct with one cue, 3 = Correct with no cues)</p>
    <label><input type="radio" name="DELW{{ num - 26 }}" value="0" {% if previous_answers.get('DELW' + (num - 26)|string, '0') == '0' %}checked{% endif %}> Incorrect</label>
    <label><input type="radio" name="DELW{{ num - 26 }}" value="1" {% if previous_answers.get('DELW' + (num - 26)|string, '0') == '1' %}checked{% endif %}> Correct with two cues</label>
    <label><input type="radio" name="DELW{{ num - 26 }}" value="2" {% if previous_answers.get('DELW' + (num - 26)|string, '0') == '2' %}checked{% endif %}> Correct with one cue</label>
    <label><input type="radio" name="DELW{{ num - 26 }}" value="3" {% if previous_answers.get('DELW' + (num - 26)|string, '0') == '3' %}checked{% endif %}> Correct with no cues</label>
</div>
{% endfor %}

        <!-- Orientation Section -->
        <h2>Orientation</h2>
        <p>The psychometrician should ask the patient questions about the current date, month, year, day, place, and city to assess their orientation.</p>

        <!-- Questions 32-37 -->
        {% for num, field, question in [
            (32, 'DATE', 'What is the current date?'),
            (33, 'MONTH', 'What is the current month?'),
            (34, 'YEAR', 'What is the current year?'),
            (35, 'DAY', 'What day of the week is it?'),
            (36, 'PLACE', 'Where are we right now (place)?'),
            (37, 'CITY', 'What city are we in?')
        ] %}
        <div class="question">
            <p>{{ num }}. {{ question }}</p>
            <label>
                <input type="radio" name="{{ field }}" value="1"
                    {% if previous_answers.get(field) == '1' or previous_answers.get(field) is none %}
                        checked
                    {% endif %} required>
                Correct
            </label>
            <label>
                <input type="radio" name="{{ field }}" value="0"
                    {% if previous_answers.get(field) == '0' %}checked{% endif %}>
                Incorrect
            </label>
        </div>
        {% endfor %}

        <!-- Submit Button -->
        <button type="submit">Submit</button>
    </form>
</body>
</html>
